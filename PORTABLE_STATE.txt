# PORTABLE_STATE.txt

Single-source snapshot for moving or resuming this project on another machine.

[Current defaults]
- Base model: Qwen/Qwen2.5-7B
- Training pipeline: CPT -> SFT
- Main config: configs/sft.yaml
- Default run: room_lora_qwen25_7b_group_v2
- Default CPT run: room_lora_qwen25_7b_group_v2_cpt

[Docs]
- README.md
- docs/RUNBOOK.md
- docs/COMMANDS.md
- docs/ARCHITECTURE.md
- docs/archive/RUNBOOK_TOMORROW_2026-02-26.md (legacy archive)

[Required for full training resume]
1) Code and config
- configs/sft.yaml
- .env

2) Data
- data/raw/inbox/*.txt
- data/sft/train.jsonl
- data/sft/val.jsonl
- data/sft/cpt_train.jsonl
- data/sft/cpt_val.jsonl
- data/sft/stats.json

3) Checkpoints
- checkpoints_lora/<run_name>_cpt/checkpoint-*
- checkpoints_lora/<run_name>/checkpoint-*
- checkpoints_lora/<run_name>/adapter_latest
- checkpoints_lora/<run_name>/adapter_best

[Required for inference only]
- configs/sft.yaml
- .env
- checkpoints_lora/<run_name>/adapter_best (or latest checkpoint dir)

[Environment]
- CHATBOT_PASSWORD=...

[Core commands]
- Preprocess: python -m chatbot.sft_ops preprocess --config_sft configs/sft.yaml --env_path .env
- CPT train/resume: python -m chatbot.sft_cpt_train --config_sft configs/sft.yaml --env_path .env --run_name room_lora_qwen25_7b_group_v2_cpt
- SFT first start: python -m chatbot.sft_train --config_sft configs/sft.yaml --env_path .env --run_name room_lora_qwen25_7b_group_v2 --init_adapter checkpoints_lora/room_lora_qwen25_7b_group_v2_cpt/adapter_best
- SFT resume: python -m chatbot.sft_train --config_sft configs/sft.yaml --env_path .env --run_name room_lora_qwen25_7b_group_v2

[Resume behavior]
- Stop: Ctrl+C or STOP file in run directory
- Resume: same command, same run_name
- Resume source: latest valid checkpoint with required trainer files
